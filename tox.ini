[tox]
envlist = flake8
usedevelop = True
minversion = 2.0
skipsdist = True

[testenv:flake8]
deps = flake8
commands = flake8 ./tox_setuptools_version ./tests

[testenv:black]
description = "Environment for executing black"
skip_install = true
whitelist_externals =
    bash
    git
passenv =
## This is needed to run git command
    HOME
deps =
    black
commands =
    black --exclude '.tox' --exclude '.venv' {posargs} {toxinidir}
    git add {toxinidir}
    bash -c 'git diff-index --quiet HEAD || git commit -m "ðŸ¤– Pass black on codes [ci skip]"'
